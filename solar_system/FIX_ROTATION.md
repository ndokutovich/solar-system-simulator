# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—Ä–∞—â–µ–Ω–∏–µ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–π –∫–∞—Ä—Ç—ã

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∑–∞ —Å–æ–ª–Ω—Ü–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∂—ë–ª—Ç–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –Ω–µ –≤—Å–µ–≥–¥–∞ –∫ —Å–æ–ª–Ω—Ü—É).

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Å –ø—Ä–æ–±–ª–µ–º–æ–π)
```
http://localhost:8080/
```

### 2. –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
```
http://localhost:8080/?version=simple
```
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —à–µ–π–¥–µ—Ä
- –ë–µ–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–æ–ª–Ω—Ü–µ

### 3. –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è)
```
http://localhost:8080/debug_temperature.html
```
- –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ-–≤—Ä–∞—â–µ–Ω–∏–µ –ú–µ—Ä–∫—É—Ä–∏—è
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ö–æ–Ω—Ç—Ä–æ–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- üî¥ –ö—Ä–∞—Å–Ω–∞—è/–∂—ë–ª—Ç–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –í–°–ï–ì–î–ê —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Å–æ–ª–Ω—Ü–µ
- üîµ –°–∏–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞ –í–°–ï–ì–î–ê —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
- üü° –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –æ—Ä–±–∏—Ç–µ –≥–æ—Ä—è—á–∞—è —Ç–æ—á–∫–∞ —Å–ª–µ–¥—É–µ—Ç –∑–∞ —Å–æ–ª–Ω—Ü–µ–º

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ì–æ—Ä—è—á–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç —Å–æ–ª–Ω—Ü–∞
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- "–î–≤–æ–π–Ω–æ–π –ø–æ–≤–æ—Ä–æ—Ç" - –∫–∞—Ä—Ç–∞ –≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ #1: –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
```javascript
// –í —à–µ–π–¥–µ—Ä–µ normal –≤ object space
vNormal = normal;

// –ù–æ sunDirection –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ world space
// –ù—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±–∞ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
```

### –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ #2: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```javascript
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä–∏–º–µ–Ω—è–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
const sunDirLocal = toSun.applyMatrix4(mercuryMatrixInverse);

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –µ—Å–ª–∏ –ú–µ—Ä–∫—É—Ä–∏–π –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è
const sunDirLocal = toSun; // –£–∂–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
```

### –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ #3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü
```javascript
// –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—ã –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
mercury.updateMatrixWorld(true);
```

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í `main_simple.js` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥:

```javascript
// 1. –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –ú–µ—Ä–∫—É—Ä–∏—è –∫ –°–æ–ª–Ω—Ü—É
const toSunWorld = sunPos.clone().sub(mercuryPos).normalize();

// 2. –ï—Å–ª–∏ –ú–µ—Ä–∫—É—Ä–∏–π –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è, –ª–æ–∫–∞–ª—å–Ω–æ–µ = –º–∏—Ä–æ–≤–æ–µ
const sunDirLocal = toSunWorld;

// 3. –ü–µ—Ä–µ–¥–∞—ë–º –≤ —à–µ–π–¥–µ—Ä
material.uniforms.sunDirection.value.copy(sunDirLocal);
```

## –®–∞–≥–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É–ø—Ä–æ—â—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é** (`?version=simple`)
   - –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ä—Å–∏–∏
   - –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–µ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –≤–µ—Ä—Å–∏—é** (`debug_temperature.html`)
   - –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ-–≤—Ä–∞—â–µ–Ω–∏–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏ –≤—Ä–∞—â–µ–Ω–∏–∏ –ú–µ—Ä–∫—É—Ä–∏—è –∫–∞—Ä—Ç–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π

3. **–ï—Å–ª–∏ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ª–æ–≥–∏–∫—É –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ä—Å–∏—é
   - –£–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥

## –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```javascript
// –ü–æ–∑–∏—Ü–∏—è –ú–µ—Ä–∫—É—Ä–∏—è
window.solarSystemApp?.mercury?.position

// –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–æ–ª–Ω—Ü–µ
window.solarSystemApp?.mercuryMaterial?.uniforms.sunDirection.value

// –ú–∞—Ç—Ä–∏—Ü–∞ –º–∏—Ä–∞ –ú–µ—Ä–∫—É—Ä–∏—è
window.solarSystemApp?.mercury?.matrixWorld
```

## –ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç

**–ï—Å–ª–∏ –ú–µ—Ä–∫—É—Ä–∏–π –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Å–≤–æ–µ–π –æ—Å–∏** (rotation.y = 0), —Ç–æ:
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã = –ú–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—Å —É—á—ë—Ç–æ–º –ø–æ–∑–∏—Ü–∏–∏)
- –ù–µ –Ω—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–∞—Ç—Ä–∏—Ü
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–æ–ª–Ω—Ü–µ –ø—Ä–æ—Å—Ç–æ = `normalize(sunPos - mercuryPos)`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- üéØ –ì–æ—Ä—è—á–∞—è —Ç–æ—á–∫–∞ –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–æ–ª–Ω—Ü–µ
- üîÑ –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –ø–æ –æ—Ä–±–∏—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö "–¥–≤–æ–π–Ω—ã—Ö –ø–æ–≤–æ—Ä–æ—Ç–æ–≤" –∏–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è